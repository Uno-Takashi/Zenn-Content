---
title: "dアニメストアでもウォッチパーティーができるChrome拡張機能『d-party』を公開しました"
emoji: "🦁"
type: "tech"
topics: ["個人開発","chrome-extension","javascript","Django","Python"]
published: false
---
# 初めに

2022年3月15日に、dアニメストアでもウォッチパーティー（同時に視聴）が出来るようになる、拡張機能『d-party』をリリースしました。
宣伝と開発備忘録をかねて記事を公開しておきます。

@[card](https://chrome.google.com/webstore/detail/d-party/ibmlcfpijglpfbfgaleaeooebgdgcbpc)

@[card](https://github.com/d-party)

## ウォッチパーティーとは？

Amazon Prime Videoや[Hulu](https://www.hulu.jp/)などの映像ストリーミングサービスでは『[ウォッチパーティ](https://www.amazon.co.jp/adlp/watchparty)』と呼ばれる機能を提供しています。ウォッチパーティーを使う事で、遠くの友人や家族と同じ動画を同時に視聴する事が出来ます。ウォッチパーティー中は動画プレイヤーの再生状況が自動的に同期され、チャットなどでユーザー間でのコミュニケーションが可能になります。

また、YoutubeやNetflixでも[teleparty](https://chrome.google.com/webstore/detail/netflix-party-is-now-tele/oocalimimngaihdkbihfgmpkcpnmlaoa)や[YouTube Party](https://chrome.google.com/webstore/detail/youtube-party/ngmncgebkdchkdokiecifpmodajbaopj)などのサードパーティーが提供する、ブラウザ拡張機能を使う事によってウォッチパーティーを開催することが出来ます。

個人的には、ウォッチパーティーを使ったアニメ鑑賞会はコロナ禍の楽しみの一つでした。

## dアニメストアとは

[dアニメストア](https://anime.dmkt-sp.jp/animestore/tp_pc)はNTT Docomoが提供するアニメに特化した動画ストリーミングサービスです。他の動画ストリーミングサービスと比較しても安価な月額440円ではありますが、アニメのラインナップが充実しており、最速配信も多いためアニメオタク的には大変ありがたいサービスです。

種別として[dアニメストア](https://anime.dmkt-sp.jp/animestore/tp_pc)、[dアニメストア ニコニコ支店](https://site.nicovideo.jp/danime/)、[dアニメストア for prime video](https://www.amazon.co.jp/gp/video/storefront/ref=atv_pa_offers?benefitId=danime&MLP=MLP&benefitID=danime&node=2351649051)の3つが存在しますが、dアニメストアの公式サイトのサービスがfor Prime Video、ニコニコ支社と比べラインナップが充実しています。

また、for prime videoに関しては、amazon prime videoのチャンネルとしての契約になりますが、prime video ウォッチパーティーは使えません。

日本以外からの接続は出来ないようですが、それでも250万人ほどの会員数がいるサービスになります。

## d-partyとは

d-partyとは、dアニメストアの公式サイトでウォッチパーティー機能を提供するChrome拡張機能です。

最も近しい拡張機能はtelepartyだと思います。Telepartyやprime video ウォッチパーティーに搭載されている機能をゼロからdアニメストア向けに作った拡張機能になります。

## なぜd-party作ったのか

なぜこのアプリを作成したのか大きく分けて3つの理由が存在します。

### 自分と友達が使いたかった

私は個人開発においては、「自分が使える」「自分が使いたい」という要素は非常に重要視しています。

開発リソースが限られている個人開発においてある程度のインパクトを出すためには、企業と戦わないというのはまず初めに取り売るべき戦略です。

世間が求めていて、十分な需要が存在しているマーケットには、よほど利益が見込めないものでない限り、企業がマーケットイン戦略をもって参入しています。

もしも、世間が求めていて需要があるにもかかわらず、企業が手を付けていないのであれば、そこには致命的な問題や技術的な障壁、利益が得られないビジネスである可能性が高いです。

個人で拠出できるリソースで隙間産業的に戦うためにはプロダクトアウト的に自分が欲しいけれども需要が足りずに絶妙に世間にないものを作っていく戦略はむしろある程度堅実であると言えます。

自分が使えるなら爆死したときの慰めにもなりますしね・・・（d-partyもなりそう・・・）

また、使ってくれる友達が身近にいるという点は非常にありがたかったです。
完全なスクラム開発を行う事は出来ませんでしたが、レビュー的な取り組みとして2週に一度を目安に『藤沢市民アニメ鑑賞会』を開催していました。

内容は単純にd-partyを使って藤沢市民と藤沢が舞台のアニメを見るというものでしたが、アニメ鑑賞会の中で意図しないユースケースや明示的でない挙動を明らかに出来ました。

プロダクトインは個人開発において有効な手段であるとともに、独りよがりなサービスを生み出しやすいスタンスであるとも思っています。そこを補正するためにも、皆さんもぜひレビューしてもらえるような個人開発仲間や友人を見つけてみるのもありかもしれません。

### 市場的がちょうどよかった

日本以外からはアクセスができないサービスですので、Telepartyのような市場を占有している強力な海外サービスが対応していませんでした。しかしながら250万人というユーザー数を抱えており、国内では有力なサービスです。言語的な障壁が功を奏してか、手あかがついていないうえに個人開発で扱うには十分な市場規模が存在していると判断しました。

またアニメファンというユーザー層にも期待できる点があります。それはアニメファンは比較的PCでアニメを見る層ではないかという期待です。Chrome拡張機能として提供する都合上テレビやスマホでの使用は出来ません。そのため、NetflixやHuluと比較し、規模は小さいですがユーザー層がより多くいると仮定し作成しました。

![SVOD 市場](/images/article_afea0935cc584b/svod_share.png)
*[＜動画配信（VOD）市場規模＞2020年VOD市場全体は前年比33.1%増の3,894億円、SVOD市場では「Netflix」が2位以下をさらに引き離して2年連続No.1｜GEM Partnersのプレスリリース](https://prtimes.jp/main/html/rd/p/000000044.000013190.html)より引用*

また、dTVについても同様のプレイヤーを使っているっぽかったので、

ウォッチパーティー固有のメリットとして、ユーザーがほかのユーザーを勧誘する必然性があるという点がメリットとしてあります。
ルームを開設する場合、1人がインストールするだけでは使えません。使いたい誰かが自然にほかのユーザーを発見してくれることを期待できます。

### 開発規模がちょうどよかった

本質的には、ユーザーの操作を非同期的に送受信できれば作れる拡張機能です。

例えば停止を共有するだけであれば

Aさんが動画の停止を検知 → Aさんが停止を送信 → BさんがAさんの停止を受信 → Bさんの画面を停止

という処理をすればよいだけです。
実際のところ、チャットを作るのとあまり難易度は変わりません。

そのため技術的にはwebsocket、web app、Chrome Extension、javascript、jqueryなどの広めの技術扱える必要がありますが、開発規模はそこまで大きくない題材であるというのも個人で扱うために適した要素でした。

実際、1月中旬から作り始め、3月中旬にリリースすることができたので、約2か月の平日仕事終わりの数時間と土日どちらかフルコミットで一旦の完成をさせることができました。

### Django Channels（Websocket）でバックエンドを作ってみたかった

Django Channelsはasgiアプリケーションを開発するためのライブラリです。ちょうど業務で非同期通信をサービスに導入する必要性に迫られていました。今年度チームに参画した新人としては、チームにとって新規の技術領域導入が一番活躍出来る可能性が高いと思い、実益を兼ねた趣味として行っていました。

また、Django Channels（+ Django Channels Rest Framework）をバックエンドに使用したウォッチパーティーのOSSが存在していなかったため、作って公開しておきたかった。

## 付録

### chrome ウェブストア/Chrome Extensionとは

Chrome Extension（Chrome拡張機能）とは、Chromeにインストールできる拡張機能です。単純にブラウザを便利にするものから、既存のウェブサービスに対して機能を追加するものもあります。
また、javascriptの基礎ができていれば、技術的な参入障壁が少ないのも魅力です。

ChromeウェブストアとはChrome Extensionを公開するストアになります。特徴としては、有料のアプリは公開できず、登録料500円を支払えばだれでもアプリを公開することができます。
